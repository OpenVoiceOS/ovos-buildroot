# Raspberry Pi 5 Configuration

# Basic setting
arm_64bit=1

# Specify UEFI firmware file.
armstub=RPI_EFI.fd

# Enable UART for serial communication.
enable_uart=1
uart_2ndstage=1

# Enable GIC (Generic Interrupt Controller).
enable_gic=1

# Set device tree memory address range.
device_tree_address=0x1f0000
device_tree_end=0x210000

# Keep RP1 PCIe configured on boot for PCIe peripherals.
pciex4_reset=0

# Max power to USB ports for high-power devices.
usb_max_current_enable=1

# Run CPU at max speed for better performance.
# force_turbo=1

# Custom bootloader files.
start_file=start4x.elf
fixup_file=fixup4x.dat

# Disable overscan for full-resolution display.
disable_overscan=1

# Auto-detect DSI displays and load overlays.
display_auto_detect=1

# Graphics acceleration with VC4 V3D driver, uses 512MB CMA limited to 2 framebuffer.
dtoverlay=vc4-fkms-v3d,cma-512
max_framebuffers=2

# Uncomment for HDMI safe mode.
# hdmi_safe=1

# How much memory in MB to assign to the GPU on Pi models having
# 256, 512 or 1024 MB total memory
gpu_mem=256

# Fixes for serial console on certain Pi models.
dtoverlay=miniuart-bt

# Enable Bluetooth driver autoprobing.
dtparam=krnbt=on

# Enable onboard audio.
dtparam=audio=on

# Enable hardware random number generator.
dtparam=random=on

# Camera driver settings (uncomment to enable).
# dtoverlay=imx219      # For IMX219 camera module
# dtoverlay=ov5647      # For OV5647 camera module
# camera_auto_detect=1  # Auto-detect camera type

# Disable rainbow splash screen on boot.
disable_splash=1

# Enable I2C, I2S, and SPI interfaces for peripheral communication.
dtparam=i2c=on,i2s=on,spi=on

# Enable CPU frequency boost on compatible models.
arm_boost=1
